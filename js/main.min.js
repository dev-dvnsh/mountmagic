let a = 0,
    b, c = document.querySelectorAll('.hero-slide'),
    d = document.querySelectorAll('.indicator'),
    f = document.getElementById('logoImage'),
    g = document.getElementById('logoModal'),
    h = document.getElementById('logoModalImage'),
    _ = document.getElementById('logoModalClose'),
    k = document.getElementById('navMenu'),
    l = document.querySelectorAll('.nav-link'),
    s = document.getElementById('nextBtn'),
    y, aB = document.getElementById('copyBtn'),
    aC = document.getElementById('phoneNumber'),
    aD = document.getElementById('copyFeedback'),
    aF = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    },
    aK = document.getElementById('galleryModalImage'),
    aL = document.getElementById('galleryModalClose'),
    aM = document.getElementById('galleryModalPrev'),
    aN = document.getElementById('galleryModalNext'),
    aO = ['assets/images/gallery1.jpg', 'assets/images/gallery2.jpg', 'assets/images/gallery3.jpg', 'assets/images/gallery4.jpg'],
    aP = 0,
    aV = document.getElementById('videoModalPlayer'),
    aW = document.getElementById('videoModalSource'),
    aX = document.getElementById('videoModalClose');
let A = new Map;
(f && g && h) && f.addEventListener('click', function() {
    g.style.display = 'block';
    h.src = this.src
});
(_ && g) && _.addEventListener('click', function() {
    g.style.display = 'none'
});
g?.addEventListener('click', function(B) {
    B.target === g && (g.style.display = 'none')
});
document.addEventListener('keydown', function(C) {
    (C.key === 'Escape' && g) && (g.style.display = 'none')
});
let j = document.getElementById('hamburger');
j.addEventListener('click', () => {
    j.classList.toggle('active');
    k.classList.toggle('active')
});
for (const _a of l) _a.addEventListener('click', () => {
    j.classList.remove('active');
    k.classList.remove('active')
});
for (const D of document.querySelectorAll('a[href^="#"]')) D.addEventListener('click', function(e) {
    e.preventDefault();
    let _b = this.getAttribute('href');
    if (_b === '#') return;
    let _c = document.querySelector(_b);
    if (_c) {
        let _A = 80,
            _B = _c.getBoundingClientRect().top,
            _C = _B + window.pageYOffset - _A;
        window.scrollTo({
            top: _C,
            behavior: 'smooth'
        })
    }
});
window.addEventListener('scroll', () => {
    let E = document.getElementById('header');
    window.scrollY > 50 ? E.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.15)' : E.style.boxShadow = '0 4px 6px rgba(0, 0, 0, 0.1)'
});

function m(bA) {
    if (bA >= c.length) a = 0;
    else bA < 0 ? a = c.length - 1 : a = bA;
    for (const [i, bB] of c.entries()) {
        bB.classList.remove('active');
        i === a && bB.classList.add('active')
    }
    for (const [i, bC] of d.entries()) {
        bC.classList.remove('active');
        i === a && bC.classList.add('active')
    }
}

function n() {
    m(a + 1)
}

function o() {
    m(a - 1)
}

function p() {
    b = setInterval(n, 5000)
}

function q() {
    clearInterval(b)
}
c.length > 0 && (m(0), p());
let r = document.getElementById('prevBtn');
r?.addEventListener('click', () => {
    q();
    o();
    p()
});
s?.addEventListener('click', () => {
    q();
    n();
    p()
});
for (const [bD, bE] of d.entries()) bE.addEventListener('click', () => {
    q();
    m(bD);
    p()
});
let t = document.querySelector('.hero');
t && (t.addEventListener('mouseenter', q), t.addEventListener('mouseleave', p));

function u(bF) {
    let bG = bF.getBoundingClientRect();
    return (bG.top >= 0 && bG.left >= 0 && bG.bottom <= (window.innerHeight || document.documentElement.clientHeight) && bG.right <= (window.innerWidth || document.documentElement.clientWidth))
}

function v(bH) {
    let bI = bH.getBoundingClientRect();
    return (bI.top < (window.innerHeight || document.documentElement.clientHeight) && bI.bottom > 0)
}

function w() {
    let bJ = document.querySelectorAll('.play-btn');
    for (const bK of bJ) bK.addEventListener('click', function() {
        let bL = this.getAttribute('data-video-id'),
            bM = document.querySelector(`video[data-video-id="${bL}"]`);
        if (bM)
            if (bM.paused) {
                bM.play();
                this.textContent = 'â¸';
                this.classList.add('playing');
                A.set(bL, {
                    element: bM,
                    button: this,
                    wasPlaying: !0
                })
            } else {
                bM.pause();
                this.textContent = 'â–¶';
                this.classList.remove('playing');
                A.has(bL) && (A.get(bL).wasPlaying = !1)
            }
    })
}

function x() {
    for (const [, bN] of A.entries()) {
        const {
            element: bO,
            button: bP
        } = bN;
        if (!v(bO)) !bO.paused && (bO.pause(), bN.wasPlaying = !0);
        else bN.wasPlaying && bO.paused && bP.classList.contains('playing')
    }
}
w();
window.addEventListener('scroll', () => {
    clearTimeout(y);
    y = setTimeout(x, 100)
});
document.addEventListener('DOMContentLoaded', x);
let z = [{
    name: 'Spiti Valley Expedition',
    duration: '8 Days / 7 Nights',
    route: 'Chandigarh â†’ Shimla â†’ Sangla â†’ Chitkul â†’ Tabo â†’ Kaza â†’ Kalpa â†’ Shimla â†’ Chandigarh',
    image: 'assets/package/spiti-package.jpg',
    description: 'Embark on an unforgettable journey through Spiti Valley. Experience the Ajanta of Himalayas (Tabo Monastery), visit the last village on Indo-Tibetan route (Chitkul), and explore high-altitude monasteries in Kaza.'
}, {
    name: 'Manali-Shimla-Delhi Tour',
    duration: '6 Days / 5 Nights',
    route: 'Phillaur â†’ Manali â†’ Shimla â†’ Delhi',
    image: 'assets/package/manali-shimla-package.jpg',
    description: 'Discover the perfect blend of adventure and culture. Experience Rohtang Pass, Atal Tunnel, Solang Valley adventures in Manali, colonial charm of Shimla, and iconic monuments of Delhi in one incredible journey.'
}];

function aA() {
    let bQ = document.getElementById('packagesGrid');
    if (bQ) {
        bQ.innerHTML = z.map((bS, bT) => ` 
            <div class="package-card">
                <img src="${bS.image}" alt="${bS.name}" class="package-image" onerror="this.src='assets/images/placeholder.jpg'">
                <div class="package-content">
                    <h3 class="package-name">${bS.name}</h3>
                    <p class="package-duration">${bS.duration}</p>
                    <p class="package-route">${bS.route}</p>
                    <p class="package-description">${bS.description}</p>
                    <button class="view-details-btn" data-package-index="${bT}">View Details</button>
                </div>
            </div>
        `).join('');
        let bR = bQ.querySelectorAll('.view-details-btn');
        for (const bU of bR) bU.addEventListener('click', function() {
            let bV = this.getAttribute('data-package-index');
            if (bV === '0') window.open('package1-spiti.html', '_blank');
            else bV === '1' && window.open('package2-manali-shimla.html', '_blank')
        })
    }
}
aA();
(aB && aC) && aB.addEventListener('click', () => {
    let bW = aC.textContent;
    navigator.clipboard.writeText(bW).then(() => {
        aD.classList.add('show');
        setTimeout(() => aD.classList.remove('show'), 2000)
    }).catch(bX => {
        console.error('Failed to copy text: ', bX);
        alert(`Failed to copy phone number. Please copy manually: ${bW}`)
    })
});
let aE = document.querySelectorAll('.view-all-btn');
for (const bY of aE) bY.addEventListener('click', () => {
    let bZ = bY.textContent;
    if (bZ.includes('Reviews')) alert('All reviews page will be shown here. You can implement a modal or separate page with all customer reviews.');
    else bZ.includes('Videos') && alert('All video testimonials will be shown here. You can implement a modal or separate page with all video reviews.')
});
let aG = new IntersectionObserver(entries => {
    for (const entry of entries) {
        if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)'
        }
    }
}, aF);
document.addEventListener('DOMContentLoaded', () => {
    let cA = document.querySelectorAll('.package-card, .review-card, .gallery-item, .feature');
    for (const cB of cA) {
        cB.style.opacity = '0';
        cB.style.transform = 'translateY(20px)';
        cB.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        aG.observe(cB)
    }
});

function aH() {
    let cC = document.querySelectorAll('img[data-src]');
    let cD = new IntersectionObserver((entries, observer) => {
        for (const entry of entries) {
            if (entry.isIntersecting) {
                const img = entry.target;
                img.src = img.dataset.src;
                img.removeAttribute('data-src');
                cD.unobserve(img)
            }
        }
    });
    for (const cE of cC) cD.observe(cE)
}
console.log('%cğŸ”ï¸ Welcome to MountMagic! ğŸ”ï¸', 'color: #2d5016; font-size: 24px; font-weight: bold;');
console.log('%cYour trusted partner for mountain adventures', 'color: #3d6b2e; font-size: 14px;');
console.log('%câœ¨ All features are working! âœ¨', 'color: #87ceeb; font-size: 12px;');
console.log('%cğŸ¬ Images slide automatically every 5 seconds', 'color: #2c5f7d; font-size: 12px; font-weight: bold;');
console.log('%cğŸ–¼ï¸ Click the logo to view it larger!', 'color: #3d6b2e; font-size: 12px; font-weight: bold;');
document.addEventListener('DOMContentLoaded', () => {
    let cF = document.querySelectorAll('img');
    for (const cG of cF) cG.addEventListener('error', function() {
        !this.src.includes('placeholder') && console.warn(`Failed to load image: ${this.src}`)
    })
});

function aI(cH, cI) {
    let cJ;
    return function cL(...cK) {
        clearTimeout(cJ);
        cJ = setTimeout((() => {
            clearTimeout(cJ);
            cH(...cK)
        }), cI)
    }
}
window.removeEventListener('scroll', x);
window.addEventListener('scroll', aI(() => x(), 150));
let aJ = document.getElementById('galleryModal');
for (const cM of document.querySelectorAll('[data-gallery-img]')) cM.addEventListener('click', function() {
    aQ(parseInt(this.getAttribute('data-gallery-img')))
});

function aQ(cN) {
    aP = cN;
    aK.src = aO[aP];
    aJ.classList.add('active');
    document.body.style.overflow = 'hidden'
}

function aR() {
    aJ.classList.remove('active');
    document.body.style.overflow = ''
}

function aS() {
    aP = (aP - 1 + aO.length) % aO.length;
    aK.src = aO[aP]
}

function aT() {
    aP = (aP + 1) % aO.length;
    aK.src = aO[aP]
}
aL?.addEventListener('click', aR);
aM?.addEventListener('click', aS);
aN?.addEventListener('click', aT);
aJ?.addEventListener('click', function(cP) {
    cP.target === aJ && aR()
});
document.addEventListener('keydown', function(cQ) {
    if (aJ && aJ.classList.contains('active'))
        if (cQ.key === 'ArrowLeft') aS();
        else if (cQ.key === 'ArrowRight') aT();
    else cQ.key === 'Escape' && aR()
});
let aU = document.getElementById('videoModal');
for (const cR of document.querySelectorAll('[data-video-src]')) cR.addEventListener('click', function() {
    aY(this.getAttribute('data-video-src'))
});

function aY(cS) {
    aW.src = cS;
    aV.load();
    aU.classList.add('active');
    aV.play();
    document.body.style.overflow = 'hidden'
}

function aZ() {
    aU.classList.remove('active');
    aV.pause();
    aV.currentTime = 0;
    aW.src = document.body.style.overflow = ''
}
aX?.addEventListener('click', aZ);
aU?.addEventListener('click', function(cU) {
    cU.target === aU && aZ()
});
document.addEventListener('keydown', function(cV) {
    (aU && aU.classList.contains('active') && cV.key === 'Escape') && aZ()
});
window.addEventListener('load', () => {
    console.log('âœ… MountMagic website loaded successfully!');
    console.log('ğŸ“± Responsive design active');
    console.log('ğŸ¬ Video controls initialized');
    console.log('ğŸ–¼ï¸ Image slider ready - Auto-sliding every 5 seconds');
    console.log('ğŸ“¦ Packages loaded');
    console.log('ğŸ–¼ï¸ Logo modal ready - Click logo to view larger');
    console.log('ğŸ–¼ï¸ Gallery modal ready - Click images to view in slider');
    console.log('ğŸ¬ Video modal ready - Click videos to enlarge')
});